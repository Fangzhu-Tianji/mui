<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Document</title>
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<link rel="stylesheet" type="text/css" href="css/mui.css"/>
</head>
<body>
<header class="mui-bar mui-bar-nav">
    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
    <h1 class="mui-title">webview</h1>
</header>
<div class="mui-content">
    <button type="button" class="mui-btn mui-btn-blue" onclick="openNew()">打开新窗口</button>
    <button type="button" class="mui-btn mui-btn-blue" onclick="openOut()">打开外面窗口</button>
    <button type="button" class="mui-btn mui-btn-blue" onclick="pullRefresh()">上拉刷新，下拉加载</button>
    <a href="new1.html" class="mui-btn mui-btn-blue">new1</a>
</div>
<script src="js/mui.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
mui.init();
var backNum = 0;
mui.plusReady(function() {
	var wvs = plus.webview.all();
	console.log(JSON.stringify(wvs));
	plus.webview.create(
		'new1.html',
		'new1.html'
	);
	plus.key.addEventListener('backbutton', function() {
//		if(backNum < 1) {
//			mui.toast('再按一次返回退出程序');
//			backNum++;
//			return;
//		}
//		plus.webview.currentWebview().close()
mui.toast(88888)
	})
})
function openNew() {
//	plus.webview.open(
//		'new.html',
//		'new.html',
//		{},
//		'slide-in-right'
//	)
	mui.openWindow({
		id:'new.html',
		url:'new.html',
	});
}
function openOut() {
	plus.webview.open(
		'new1.html',
		'new1.html',
		{},
		'slide-in-right'
	)
}
function pullRefresh() {
	plus.webview.open(
		'pullRefresh.html',
		'pullRefresh.html',
		{},
		'slide-in-right'
	)
}
</script>
</body>
</html>
